<?xml version="1.0"?>
<openerp>
    <data>
    <record model="ir.ui.view" id="view_sale_order_outsource_form_view">
        <field name="name">sale.order.outsource.form</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form" />
        <field name="arch" type="xml">
            <!--sale.order HEADER:-->
            <xpath expr="//notebook" position="before">
                <field name="linked" />
                <button name="button_create_order_outsource" icon="gtk-convert" string="Create outource order" type="object" attrs="{'invisible': [('linked', '=', True)]}"/>
            </xpath>

            <!--sale.order.line LINE:-->
            <xpath expr="//page/field[@name='order_line']/tree/field[@name='price_subtotal']" position="after">
                <field name="outsource" invisible="1"/>
                <button name="nothing" string="Outsource product" type="object" icon="gtk-convert" attrs="{'invisible': [('outsource', '=', False)]}" />            
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="view_res_company_pick_type_sales_form">
        <field name="name">res.company.form</field>
        <field name="model">res.company</field>
        <field name="inherit_id" ref="view_res_company_pick_type_form"/>
        <field name="arch" type="xml">
             <field name="outsource_product_mask"  positin="after">
                 <field name="outsourced_partner_id" attrs="{'invisible':[('outsource_management','=',False)]}"/>
             </field>
        </field>
    </record>    
    </data>
</openerp>
